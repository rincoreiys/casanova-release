(function(){"use strict";var t={852:function(t,e,o){var i=o(471),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("v-app",[e("v-main",[t.ready?e("div",{staticStyle:{position:"absolute",display:"flex",width:"100%","flex-direction":"column",height:"100%","font-size":"12px"}},[e("div",{staticClass:"d-flex",staticStyle:{width:"100%","border-bottom":"1px solid hsla(0,0%,100%,.12)",height:"39px"}},[e("v-btn",{staticClass:"pa-4 rounded-0",staticStyle:{height:"39px",width:"40px","text-align":"center","text-transform":"capitalize","border-right":"1px solid hsla(0,0%,100%,.12)","font-weight":"400"},attrs:{small:"",icon:""},on:{click:t.Screenshot}},[e("v-icon",{attrs:{size:"22"}},[t._v("mdi-camera")])],1),t.is_macro_running?t._e():[e("v-btn",{staticClass:"pa-4 rounded-0",staticStyle:{height:"39px","text-transform":"capitalize","border-right":"1px solid hsla(0,0%,100%,.12)","font-weight":"400"},attrs:{small:"",text:""},on:{click:t.Test}},[e("span",{staticClass:"mx-2"},[t._v("Test")])]),e("v-btn",{staticClass:"pa-4 rounded-0",staticStyle:{height:"39px","text-transform":"capitalize","border-right":"1px solid hsla(0,0%,100%,.12)","font-weight":"400"},attrs:{small:"",text:""},on:{click:t.Automate}},[e("span",{staticClass:"mx-2"},[t._v("Automate")])])],t.is_macro_running?[e("div",{staticClass:"d-flex",staticStyle:{flex:"1","align-items":"center",padding:"0 16px"}},[e("div",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.selected_macro))]),e("v-btn",{staticClass:"ml-auto rounded",attrs:{tile:"",outlined:"",icon:"","x-small":"",width:"20"},on:{click:t.StopMacro}},[e("v-icon",{attrs:{size:"20"}},[t._v("mdi-stop")])],1)],1)]:t._l(t.shortcuts,(function(o,i){return e("v-btn",{key:i,staticClass:"pa-4 rounded-0",staticStyle:{height:"39px","text-transform":"capitalize","border-right":"1px solid hsla(0,0%,100%,.12)","font-weight":"400"},attrs:{small:"",text:""},on:{click:function(e){return t.RunMacro(o.name,o.category)}}},[e("span",{staticClass:"mx-2"},[t._v(t._s(o.name))])])}))],2),e("v-slide-x-transition",[t.is_macro_running?t._e():e("div",{staticStyle:{"max-height":"360px",overflow:"auto","border-bottom":"1px solid rgb(55,55,55)",display:"flex","flex-direction":"column"}},[e("v-text-field",{staticStyle:{"max-height":"48px"},attrs:{tile:"",solo:"",label:"Search Routine","prepend-inner-icon":"mdi-magnify",elevation:"0",clearable:"",flat:"","hide-details":"",height:"48"},model:{value:t.search_routine,callback:function(e){t.search_routine=e},expression:"search_routine"}}),e("v-divider"),e("div",{staticStyle:{flex:"1",overflow:"auto"}},[t._l(t.filtered_routines,(function(o,i){return[e("div",{key:i},[e("div",{staticClass:"w-100 py-2 px-4 routine-header"},[e("div",{staticClass:"routine-header-text"},[t._v(t._s(o.category))])]),e("v-list",{staticClass:"py-0",staticStyle:{background:"transparent !important"},attrs:{color:"white",dense:""}},t._l(o.list,(function(i,n){return e("v-list-item",{key:n,staticClass:"bg-transparent",staticStyle:{"font-size":"12px"},on:{click:function(e){return t.RunMacro(i,o.category)}}},[t._v(t._s(i))])})),1)],1)]}))],2)],1)]),e("div",{staticStyle:{display:"flex",flex:"0"}},[e("v-select",{staticStyle:{"max-width":"250px","border-right":"1px solid rgb(55,55,55)","border-radius":"0"},attrs:{items:t.logs,filled:"",dense:"","item-text":"name",solo:"","item-value":"name","hide-details":"",label:"Log History"},model:{value:t.focused_log,callback:function(e){t.focused_log=e},expression:"focused_log"}}),e("v-text-field",{staticStyle:{background:"transparent",flex:"1"},attrs:{label:"Search log",dense:"",solo:"",flat:"",color:"neon","hide-details":"","prepend-inner-icon":"mdi-magnify",height:"40"},model:{value:t.log_search,callback:function(e){t.log_search=e},expression:"log_search"}}),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:o,attrs:i}){return[e("v-btn",t._g(t._b({staticClass:"mr-2",staticStyle:{"text-transform":"capitalize",margin:"auto"},attrs:{small:"",depressed:""}},"v-btn",i,!1),o),[t._v("Save Log "),e("v-icon",{staticClass:"ml-1",attrs:{size:"18"}},[t._v("mdi-chevron-down")])],1)]}}],null,!1,1006297186)},[e("v-list",{attrs:{dense:""}},[null!==t.focused_log?e("v-list-item",{on:{click:function(e){return t.SaveLog(t.focused_log)}}},[t._v("Save "+t._s(t.focused_log))]):t._e(),e("v-list-item",{on:{click:function(e){return t.SaveLog()}}},[t._v("Save All Log")])],1)],1)],1),e("v-divider"),e("v-tabs-items",{staticStyle:{flex:"auto",overflow:"auto"},attrs:{id:"console-ui"},model:{value:t.log_tab,callback:function(e){t.log_tab=e},expression:"log_tab"}},[-1!==t.focused_log_index?[t._l(t.log_category,(function(o,i){return e("v-tab-item",{key:i,attrs:{transition:"fade-transition"}},[i==t.log_tab?[t.logs[t.focused_log_index].records[o].length?e("v-list",{staticStyle:{background:"transparent"},attrs:{dense:"",disabled:""}},[t._l(t.logs[t.focused_log_index].records[o],(function(o,i){return[`${o.timestamp}${o.description}`.toLocaleLowerCase().includes(t.log_search.toLocaleLowerCase())?e("v-list-item",{key:i},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{"min-width":"80px"}},[t._v(" "+t._s(o.timestamp))]),e("div",[t._v(" "+t._s(o.description))])])]):t._e()]}))],2):t._e()]:t._e()],2)})),e("v-tab-item",{attrs:{transition:"fade-transition"}},[5==t.log_tab?[e("v-list",{staticStyle:{background:"transparent"},attrs:{dense:"",disabled:""}},[t._l(t.all_log,(function(o,i){return[`${o.timestamp} ${o.description}`.toLocaleLowerCase().includes(t.log_search.toLocaleLowerCase())?e("v-list-item",{key:i},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{"min-width":"80px"}},[t._v(" "+t._s(o.timestamp))]),e("div",[t._v(" "+t._s(o.description))])])]):t._e()]}))],2)]:t._e()],2)]:t._e()],2),e("v-divider"),e("v-tabs",{staticStyle:{flex:"0"},attrs:{grow:"",height:"40",dense:"","background-color":"transparent",color:"white"},model:{value:t.log_tab,callback:function(e){t.log_tab=e},expression:"log_tab"}},[t._l(t.log_category,(function(o,i){return e("v-tab",{key:o,staticStyle:{"min-width":"40px"}},[e("v-icon",{attrs:{size:"18"}},[t._v(t._s(t.log_tabs_icon[i]))])],1)})),e("v-tab",{staticStyle:{"min-width":"40px"}},[e("v-icon",{attrs:{size:"18"}},[t._v("mdi-format-list-checkbox")])],1)],2)],1):t._e()])],1)],1)},s=[];const a=new URL(window.location).searchParams,l=async t=>{try{await window.chrome.webview.postMessage(t)}catch(e){console.log(e)}},r=[{category:"Simple Task",list:["Spin Coin","Synth Gems","Opening Pack"]},{category:"Dailies",list:["Corruption","Ladder","Bath"]},{category:"Grind Gold",list:["310","320","340","355"]},{category:"Dungeon",list:["30","45","55","75","85","110","125","165","175","195","215","235","255","275","295","315","335","355","375","395","415","Pixie"]}];var c={data:()=>({ready:!1,is_macro_running:!1,routines:r,search_routine:"",shortcuts:[{category:"Dungeon",name:"85"}],selected_macro:"",workspace_mode:a.get("workspace_mode")||"freemode",flash_hwnd:a.get("flash_hwnd")||0,log_row_limit:50,log_category:["Event","Image","Error","Macro","Test"],log_tabs_icon:["mdi-book-clock-outline","mdi-image-outline","mdi-alert-circle-outline","mdi-robot-outline","mdi-progress-check"],log_tab:0,log_search:"",logs:[],focused_log:null,focused_log_index:-1,auto_scroll_to_buttom:!0}),watch:{focused_log(t){console.log("fl",t);let e=this.logs.findIndex((e=>e.name==t));-1!==e&&(this.focused_log_index=e),console.log("i is",e)}},computed:{all_log(){let t=[];return Object.keys(this.logs[this.focused_log_index].records).forEach((e=>{t.push(...this.logs[this.focused_log_index].records[e])})),console.log("rres",t),t.filter((t=>`${t.timestamp} ${t.description}`.toLowerCase().includes(this.log_search.toLocaleLowerCase())))},filtered_routines:function(){console.log(this.routines);let t=this.routines.map((t=>({category:t.category,list:t.list.filter((t=>t.toLowerCase().includes(this.search_routine)))}))).filter((t=>t.list.length));return console.log(t),t}},methods:{SetActiveMacro(t,e=null){this.is_macro_running=!0,this.selected_macro=t;const o={name:`${(new Date).toString().slice(16,24)} - ${"Dungeon"==e?"Dungeon":""} ${t}`,timestamp:(new Date).toString().slice(16,24),routine_name:t,records:{}};this.log_category.forEach((t=>{o.records[t]=[]})),this.logs.push(o),this.focused_log=o.name,this.ready=!0},CopyFlashHWND(){navigator.clipboard.writeText(this.flash_hwnd)},Screenshot(){l({Event:"screenshot",Data:null})},Automate(){this.SetActiveMacro("Automate"),l({Event:"run_macro",Data:"..\\automate"})},Test(){this.SetActiveMacro("Test"),l({Event:"test"})},SaveLog(t=null){var e=JSON.stringify(this.logs,null,2);if(null!==t){let o=this.logs.findIndex((e=>e.name==t));if(-1===o)return alert("Invalid Index");e=JSON.stringify(this.logs[o],null,2)}var o=document.createElement("a");o.href="data:attachment/json,"+encodeURI(e),o.target="_blank",o.download=`CS ${t||(new Date).getTime()}.json`,o.click()},Log(t){let e=this.logs.length-1;if(-1!==e){let o=t.category;delete t.category,this.logs[e].records[o].push({...t,timestamp:(new Date).toString().slice(15,24)}),this.ScrollToLatest()}},ScrollToLatest(){if(this.auto_scroll_to_buttom&&this.logs.length-1==this.focused_log_index&&1==this.is_macro_running){var t=document.getElementById("console-ui");setTimeout((()=>{t.scrollTop=t.scrollHeight}),300)}},RunMacro(t,e=null){console.log(e,t),this.SetActiveMacro(t,e),l({Event:"run_macro",Data:encodeURI(`${e}/${t}`)})},StopMacro(){this.is_macro_running=!1,this.selected_macro="",l({Event:"stop_macro",Data:null})}},mounted(){window.$com=this}},d=c,u=o(656),g=(0,u.A)(d,n,s,!1,null,null,null),f=g.exports,h=o(600),_=o.n(h);o(301);i["default"].config.productionTip=!1,i["default"].use(_()),new i["default"]({vuetify:new(_())({theme:{dark:!0},icons:{iconfont:"mdi"}}),render:function(t){return t(f)}}).$mount("#app")}},e={};function o(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(e,i,n,s){if(!i){var a=1/0;for(d=0;d<t.length;d++){i=t[d][0],n=t[d][1],s=t[d][2];for(var l=!0,r=0;r<i.length;r++)(!1&s||a>=s)&&Object.keys(o.O).every((function(t){return o.O[t](i[r])}))?i.splice(r--,1):(l=!1,s<a&&(a=s));if(l){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[i,n,s]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var i in e)o.o(e,i)&&!o.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,s,a=i[0],l=i[1],r=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(r)var d=r(o)}for(e&&e(i);c<a.length;c++)s=a[c],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(d)},i=self["webpackChunkmacro_tools"]=self["webpackChunkmacro_tools"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(852)}));i=o.O(i)})();
//# sourceMappingURL=app.a0a98d1d.js.map